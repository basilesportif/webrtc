(()=>{"use strict";({607:function(){var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(c,d){function a(e){try{o(i.next(e))}catch(e){d(e)}}function s(e){try{o(i.throw(e))}catch(e){d(e)}}function o(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}o((i=i.apply(e,t||[])).next())}))};const t=new WebSocket("wss://your-signaling-server.example.com"),n=new RTCPeerConnection({iceServers:[{urls:"stun:65.21.6.180:3478"},{urls:"turn:65.21.6.180:3478",username:"timtime",credential:"blahblah"}]});t.addEventListener("message",(i=>e(void 0,void 0,void 0,(function*(){const e=JSON.parse(i.data);if("offer"===e.type){yield n.setRemoteDescription(e);const i=yield n.createAnswer();yield n.setLocalDescription(i),t.send(JSON.stringify(i))}else if("answer"===e.type)yield n.setRemoteDescription(e);else if("icecandidate"===e.type){const t=new RTCIceCandidate(e);yield n.addIceCandidate(t)}})))),n.addEventListener("icecandidate",(e=>{const n=e.candidate;n&&t.send(JSON.stringify({type:"icecandidate",candidate:n}))})),n.addEventListener("track",(e=>{const t=e.streams[0];document.getElementById("remote-video").srcObject=t})),document.getElementById("start-button").addEventListener("click",(()=>e(void 0,void 0,void 0,(function*(){const e=yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0});e.getTracks().forEach((t=>{n.addTrack(t,e)}));document.getElementById("local-video").srcObject=e;const i=yield n.createOffer();yield n.setLocalDescription(i),t.send(JSON.stringify(i))}))))}})[607]()})();